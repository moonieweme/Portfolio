<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AI Project</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="header">
      <div class="logo">
        <a href="index.html" target="_self">
          <img
            src="ak logo 2.png"
            alt="ak logo"
            style="cursor: pointer; border: none"
          />
        </a>
      </div>
      <nav class="nav-items">
        <a href="projects.html" target="_self">projects</a>
        <a href="about_me.html" target="_self">about me</a>
        <a href="contact.html" target="_self">contact</a>
      </nav>
    </div>

    <h1>Predicting Student's Exam Score</h1>

    <form id="predictionForm">
      <label for="hours_studied">Hours Studied (Per Week):</label>
      <input
        type="number"
        id="hours_studied"
        name="hours_studied"
        required
        min="0"
        max="168"
      /><br /><br />

      <label for="attendance">Attendance (% Of Class Attended):</label>
      <input
        type="number"
        id="attendance"
        name="attendance"
        required
        min="0"
        max="100"
      />
      <br /><br />

      <label for="parental_involvement">Parental Involvement:</label>
      <select id="parental_involvement" name="parental_involvement" required>
        <option value="1">Low</option>
        <option value="2">Moderate</option>
        <option value="3">High</option>
      </select>
      <br /><br />

      <label for="access_to_resources">Access to Resources (1-5):</label>
      <select id="access_to_resources" name="access_to_resources" required>
        <option value="1">Low</option>
        <option value="2">Moderate</option>
        <option value="3">High</option>
      </select>
      <br /><br />

      <label for="extracurricular_activities"
        >Extracurricular Activities:</label
      >
      <select
        id="extracurricular_activities"
        name="extracurricular_activities"
        required
      >
        <option value="0">No</option>
        <option value="1">Yes</option>
      </select>
      <br /><br />

      <label for="sleep_hours">Sleep (Hours Per Night):</label>
      <input
        type="number"
        id="sleep_hours"
        name="sleep_hours"
        required
        min="0"
        max="24"
      />
      <br /><br />

      <label for="previous_scores">Previous Exam Scores (0-100):</label>
      <input
        type="number"
        id="previous_scores"
        name="previous_scores"
        min="0"
        max="100"
        required
      />
      <br /><br />

      <label for="motivation_level">Motivation Level:</label>
      <select id="motivation_level" name="motivation_level" required>
        <option value="1">Low</option>
        <option value="2">Moderate</option>
        <option value="3">High</option>
      </select>
      <br /><br />

      <label for="internet_access">Internet Access:</label>
      <select id="internet_access" name="internet_access" required>
        <option value="0">No</option>
        <option value="1">Yes</option>
      </select>
      <br /><br />

      <label for="tutoring_sessions"
        >Tutoring Sessions (Sessions Attended Per Month):</label
      >
      <input
        type="number"
        id="tutoring_sessions"
        name="tutoring_sessions"
        required
      />
      <br /><br />

      <label for="family_income">Family Income:</label>
      <select id="family_income" name="family_income" required>
        <option value="1">Low</option>
        <option value="2">Moderate</option>
        <option value="3">High</option>
      </select>
      <br /><br />

      <label for="teacher_quality">Teacher Quality:</label>
      <select id="motivation_level" name="motivation_level" required>
        <option value="1">Low</option>
        <option value="2">Moderate</option>
        <option value="3">High</option>
      </select>
      <br /><br />

      <label for="school_type">School Type:</label>
      <select id="school_type" name="school_type" required>
        <option value="0">Public</option>
        <option value="1">Private</option>
      </select>
      <br /><br />

      <label for="peer_influence">Peer Influence:</label>
      <select id="peer_influence" name="peer_influence" required>
        <option value="0">Negative</option>
        <option value="1">Neutral</option>
        <option value="2">Positive</option>
      </select>
      <br /><br />

      <label for="physical_activity">Physical Activity (Hours Per Week):</label>
      <input
        type="number"
        id="physical_activity"
        name="physical_activity"
        min="0"
        max=""
        required
      />
      <br /><br />

      <label for="learning_disabilities">Learning Disabilities:</label>
      <select id="learning_disabilities" name="learning_disabilities" required>
        <option value="0">No</option>
        <option value="1">Yes</option>
      </select>
      <br /><br />

      <label for="parental_education_level">Parental Education Level:</label>
      <select
        id="parental_education_level"
        name="parental_education_level"
        required
      >
        <option value="1">Highschool</option>
        <option value="2">College</option>
        <option value="3">Postgraduate</option>
      </select>
      <br /><br />

      <label for="distance_from_home">Distance from Home:</label>
      <select id="distance_from_home" name="distance_from_home" required>
        <option value="1">Near</option>
        <option value="2">Moderate</option>
        <option value="3">Far</option>
      </select>
      <br /><br />

      <label for="gender">Gender:</label>
      <select id="gender" name="gender" required>
        <option value="0">Male</option>
        <option value="1">Female</option>
      </select>
      <br /><br />

      <button type="submit">Predict Score</button>
    </form>

    <h2 id="predictionResult"></h2>

    <script>
      document
        .getElementById("predictionForm")
        .addEventListener("submit", async function (e) {
          e.preventDefault(); // Prevent the default form submission

          // Gather form data
          const data = {
            hours_studied: document.getElementById("hours_studied").value,
            attendance: document.getElementById("attendance").value,
            parental_involvement: document.getElementById(
              "parental_involvement"
            ).value,
            access_to_resources: document.getElementById("access_to_resources")
              .value,
            extracurricular_activities: document.getElementById(
              "extracurricular_activities"
            ).value,
            sleep_hours: document.getElementById("sleep_hours").value,
            previous_scores: document.getElementById("previous_scores").value,
            motivation_level: document.getElementById("motivation_level").value,
            internet_access: document.getElementById("internet_access").value,
            tutoring_sessions:
              document.getElementById("tutoring_sessions").value,
            family_income: document.getElementById("family_income").value,
            teacher_quality: document.getElementById("teacher_quality").value,
            school_type: document.getElementById("school_type").value,
            peer_influence: document.getElementById("peer_influence").value,
            physical_activity:
              document.getElementById("physical_activity").value,
            learning_disabilities: document.getElementById(
              "learning_disabilities"
            ).value,
            parental_education_level: document.getElementById(
              "parental_education_level"
            ).value,
            distance_from_home:
              document.getElementById("distance_from_home").value,
            gender: document.getElementById("gender").value,
          };

          console.log(data); // Add this line to check the form data

          try {
            // Send the data to the API
            const response = await fetch(
              "https://api-qyoc.onrender.com/predict",
              {
                method: "POST",
                headers: {
                  "Content-Type": "application/json",
                },
                body: JSON.stringify(data),
              }
            );

            if (!response.ok) {
              throw new Error("Network response was not ok");
            }

            // Parse the JSON response

            const result = await response.json();
            document.getElementById("predictionResult").textContent =
              "Predicted Exam Score: " + result.prediction;
          } catch (error) {
            console.error("Error:", error);
            document.getElementById("predictionResult").textContent =
              "An error occurred while predicting.";
          }
        });
    </script>
  </body>
</html>
